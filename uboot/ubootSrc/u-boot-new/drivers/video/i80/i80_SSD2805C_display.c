/* drivers/video/clouder/i80/i80_TrulyA60708.c
 *
 * TrulyA60708 LCD Panel Driver.
 *
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include <configs/clouder800.h>
#include <common.h>
#include <clouder_i80.h>
#include <linux/fb.h>
#undef SSD2805_ILI9488_DEBUG

#define RM67160_ROW_PXL	400
#define RM67160_COL_PXL 400

#define ILI9488_ROW_PXL	320
#define ILI9488_COL_PXL 320

#ifdef  PRODUCT_CLOUDER_M93
#define ST7796_ROW_PXL	320
#define ST7796_COL_PXL	320
#else
#define ST7796_ROW_PXL	320
#define ST7796_COL_PXL	320
#endif

#define PANEL_SIZE (ROW_PXL * COL_PXL * 3)
#define PACKET_SIZE_THRESHOLD  (ROW_PXL * 3)


struct mipi_lcd_data_table {
	u8 reg_addr;
	u8 value;
	u8 type;
	u32 udelay;
};

static struct i80_timing_info SSD2805C_RM67160_timing_info = {
	.hp     = (RM67160_ROW_PXL + 20 + 40 + 20),
	.hpw    = 20,
	.hbp    = 40,
	.hfp    = 20,
	.hv     = RM67160_ROW_PXL,
	.vp     = (RM67160_COL_PXL + 4 + 12 + 20),
	.vpw    = 4,
	.vbp    = 12,
	.vfp    = 20,
	.vv     = RM67160_COL_PXL,

	.if_bits = 8,
	.pixel_format = 0x04,
	.timing_period = 0x07,
};

static struct i80_timing_info SSD2805C_ILI9488_timing_info = {
	.hp     = (ILI9488_ROW_PXL + 3 + 31 + 10),
	.hpw    = 3,
	.hbp    = 31,
	.hfp    = 10,
	.hv     = ILI9488_ROW_PXL,
	.vp     = (ILI9488_COL_PXL + 2 + 2 + 14),
	.vpw    = 2,
	.vbp    = 2,
	.vfp    = 14,
	.vv     = ILI9488_COL_PXL,

	.if_bits = 8,
	.pixel_format = 0x04,
	.timing_period = 0x07,
};

static struct i80_timing_info SSD2805C_ST7796S_timing_info = {
	.hp     = (ST7796_ROW_PXL + 3 + 31 + 10),
	.hpw    = 3,
	.hbp    = 31,
	.hfp    = 10,
	.hv     = ST7796_ROW_PXL,
	.vp     = (ST7796_COL_PXL + 2 + 2 + 14),
	.vpw    = 2,
	.vbp    = 2,
	.vfp    = 14,
	.vv     = ST7796_COL_PXL,

	.if_bits = 8,
	.pixel_format = 0x04,
	.timing_period = 0x07,
};

/* Default ctrl info */
static struct i80_ctrl_info SSD2805C_RM67160_ctrl_info = {
	3,
	0,
	{1, 1, 1, 1}
};

#ifndef PRODUCT_CLOUDER_M93
static struct mipi_lcd_data_table SSD2805C_init_table[] = {

	{0xb9, 0xb9, 1, 0},
	{0xb9, 0x00, 2, 0},
	{0xb9, 0x00, 2, 0},

	//{0xba, 0xba, 1, 0},
	//{0xba, 0x2d, 2, 0},
	//{0xba, 0x23, 2, 0},

	{0xba, 0xba, 1, 0},
	{0xba, 0x1f, 2, 0},
	{0xba, 0x10, 2, 0},
	
	{0xb9, 0xb9, 1, 0},
	{0xb9, 0x01, 2, 0},
	{0xb9, 0x00, 2, 0},

	{0xb8, 0xb8, 1, 0},
	{0xb8, 0x00, 2, 0},
	{0xb8, 0x00, 2, 0},

	{0xbb, 0xbb, 1, 0},
	{0xbb, 0x04, 2, 0},
	{0xbb, 0x00, 2, 100000},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x10, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xbc, 0xbd, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

};
#endif

#ifdef  PRODUCT_CLOUDER_M93
static struct mipi_lcd_data_table SSD2805C_ST7796S_data_table[] = {

	{0x11, 0x11, 1, 120000},

	{0xf0, 0xf0, 1, 0},
	{0xf0, 0xc3, 2, 0},

	{0xf0, 0xf0, 1, 0},
	{0xf0, 0x96, 2, 0},

	{0xB4, 0xB4, 1, 0},
	{0xB4, 0x00, 2, 0},

	{0xe8, 0xe8, 1, 0},
	{0xe8, 0x40, 2, 0},
	{0xe8, 0x82, 2, 0},
	{0xe8, 0x07, 2, 0},
	{0xe8, 0x18, 2, 0},
	{0xe8, 0x27, 2, 0},
	{0xe8, 0x19, 2, 0},
	{0xe8, 0xa5, 2, 0},
	{0xe8, 0x93, 2, 0},

	{0xbf, 0xc2, 1, 0},
	{0xbf, 0xA7, 2, 0},

	{0xbf, 0xc5, 1, 0},
	{0xbf, 0x11, 2, 0},

	{0xe0, 0xe0, 1, 0},
	{0xe0, 0xf0, 2, 0},
	{0xe0, 0x07, 2, 0},
	{0xe0, 0x11, 2, 0},
	{0xe0, 0x14, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x0c, 2, 0},
	{0xe0, 0x42, 2, 0},
	{0xe0, 0x55, 2, 0},
	{0xe0, 0x50, 2, 0},
	{0xe0, 0x0b, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x20, 2, 0},
	{0xe0, 0x23, 2, 0},

	{0xe1, 0xe1, 1, 0},
	{0xe1, 0xf0, 2, 0},
	{0xe1, 0x06, 2, 0},
	{0xe1, 0x11, 2, 0},
	{0xe1, 0x13, 2, 0},
	{0xe1, 0x14, 2, 0},
	{0xe1, 0x1c, 2, 0},
	{0xe1, 0x42, 2, 0},
	{0xe1, 0x54, 2, 0},
	{0xe1, 0x51, 2, 0},
	{0xe1, 0x0b, 2, 0},
	{0xe1, 0x16, 2, 0},
	{0xe1, 0x15, 2, 0},
	{0xe1, 0x20, 2, 0},
	{0xe1, 0x22, 2, 0},

	{0x3A, 0x3A, 1, 0},
	{0x3A, 0x77, 2, 0},

	{0x36, 0x36, 1, 0},
	{0x36, 0x80, 2, 0},

	{0xb1, 0xb1, 1, 0},
	{0xb1, 0xa0, 2, 0},
	{0xb1, 0x10, 2, 0},

	{0x2a, 0x2a, 1, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x01, 2, 0},
	{0x2a, 0x3f, 2, 0},

	{0x2b, 0x2b, 1, 0},
	{0x2b, 0x00, 2, 0},
	{0x2b, 0xa0, 2, 0},
	{0x2b, 0x01, 2, 0},
	{0x2b, 0xdf, 2, 0},

	{0x21, 0x21, 1, 0},
/*
	{0x11, 0x11, 1, 120000},

	{0x29, 0x29, 1, 0},

	{0x2c, 0x2c, 1, 0},
*/

};
#else
static struct mipi_lcd_data_table SSD2805C_ST7796S_data_table[] = {

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x50, 2, 0},
	{0xb7, 0x01, 2, 0},
                        
	{0xBD, 0xBD, 1, 0},
	{0xBD, 0x00, 2, 0},
	{0xBD, 0x00, 2, 0},

	{0xBC, 0xBC, 1, 0},
	{0xBC, 0x00, 2, 0},
	{0xBC, 0x00, 2, 0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x10, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xBD, 0xBD, 1, 0},
	{0xBD, 0x00, 2, 0},
	{0xBD, 0x00, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x02, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xf0, 0xf0, 2, 0},
	{0xf0, 0xc3, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xf0, 0xf0, 2, 0},
	{0xf0, 0x96, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xB4, 0xB4, 2, 0},
	{0xB4, 0x00, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x09, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xe8, 0xe8, 2, 0},
	{0xe8, 0x40, 2, 0},
	{0xe8, 0x82, 2, 0},
	{0xe8, 0x07, 2, 0},
	{0xe8, 0x18, 2, 0},
	{0xe8, 0x27, 2, 0},
	{0xe8, 0x19, 2, 0},
	{0xe8, 0xa5, 2, 0},
	{0xe8, 0x93, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xbf, 0xc2, 2, 0},
	{0xbf, 0xA7, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xbf, 0xc5, 2, 0},
	{0xbf, 0x11, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x0f, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xe0, 0xe0, 2, 0},
	{0xe0, 0xf0, 2, 0},
	{0xe0, 0x07, 2, 0},
	{0xe0, 0x11, 2, 0},
	{0xe0, 0x14, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x0c, 2, 0},
	{0xe0, 0x42, 2, 0},
	{0xe0, 0x55, 2, 0},
	{0xe0, 0x50, 2, 0},
	{0xe0, 0x0b, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x16, 2, 0},
	{0xe0, 0x20, 2, 0},
	{0xe0, 0x23, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xe1, 0xe1, 2, 0},
	{0xe1, 0xf0, 2, 0},
	{0xe1, 0x06, 2, 0},
	{0xe1, 0x11, 2, 0},
	{0xe1, 0x13, 2, 0},
	{0xe1, 0x14, 2, 0},
	{0xe1, 0x1c, 2, 0},
	{0xe1, 0x42, 2, 0},
	{0xe1, 0x54, 2, 0},
	{0xe1, 0x51, 2, 0},
	{0xe1, 0x0b, 2, 0},
	{0xe1, 0x16, 2, 0},
	{0xe1, 0x15, 2, 0},
	{0xe1, 0x20, 2, 0},
	{0xe1, 0x22, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x02, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xbf, 0xf0, 2, 0},
	{0xbf, 0x3c, 2, 0},

	{0xbf, 0xbf, 1, 0},
	{0xbf, 0xf0, 2, 0},
	{0xbf, 0x69, 2, 120000},

	{0xB7, 0xB7, 1, 0},
	{0xB7, 0x50, 2, 0},
	{0xB7, 0x02, 2, 0},

	{0xBD, 0xBD, 1, 0},
	{0xBD, 0x00, 2, 0},
	{0xBD, 0x00, 2, 0},

	{0xBC, 0xBC, 1, 0},
	{0xBC, 0x01, 2, 0},
	{0xBC, 0x00, 2, 0},

	{0x3A, 0x3A, 1, 0},
	{0x3A, 0x77, 2, 0},

	{0x36, 0x36, 1, 0},
	{0x36, 0x40, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x02, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xb1, 0xb1, 1, 0},
	{0xb1, 0xa0, 2, 0},
	{0xb1, 0x10, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x04, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xb5, 0xb5, 1, 0},
	{0xb5, 0x40, 2, 0},
	{0xb5, 0x40, 2, 0},
	{0xb5, 0x00, 2, 0},
	{0xb5, 0x04, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x04, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0x2a, 0x2a, 1, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x01, 2, 0},
	{0x2a, 0x3f, 2, 0},

	{0x2b, 0x2b, 1, 0},
	{0x2b, 0x00, 2, 0},
	{0x2b, 0x00, 2, 0},
	{0x2b, 0x01, 2, 0},
	{0x2b, 0x3f, 2, 0},

	{0xBC, 0xBC, 1, 0},
	{0xBC, 0x00, 2, 0},
	{0xBC, 0x00, 2, 0},

	{0x21, 0x21, 1, 0},
/*
	{0x11, 0x11, 1, 120000},
	
	{0x28, 0x28, 1, 30000},

	{0x29, 0x29, 1, 0},
*/
	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0xb0, 2, 0},

	{0xbd, 0xbd, 1, 0},
	{0xbd, 0x00, 2, 0},
	{0xbd, 0x04, 2, 0},

	{0xbe, 0xbe, 1, 0},
	{0xbe, 0xc0, 2, 0},
	{0xbe, 0x03, 2, 0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x43, 2, 0},
	{0xb7, 0x02, 2, 0},

};
#endif

static struct mipi_lcd_data_table SSD2805C_RM67160_data_table[] = {

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x10, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x02, 2, 0},
	{0xbc, 0x00, 2, 100000},
/***********************************************/
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x04,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x00,0x00,2,0},{0x00,0xDC,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x01,0x01,2,0},{0x01,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x02,0x02,2,0},{0x02,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x03,0x03,2,0},{0x03,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x04,0x04,2,0},{0x04,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x05,0x05,2,0},{0x05,0x03,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x06,0x06,2,0},{0x06,0x16,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x07,0x07,2,0},{0x07,0x13,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x08,0x08,2,0},{0x08,0x08,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x09,0x09,2,0},{0x09,0xDC,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0A,0x0A,2,0},{0x0A,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0B,0x0B,2,0},{0x0B,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0C,0x0C,2,0},{0x0C,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0D,0x0D,2,0},{0x0D,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0E,0x0E,2,0},{0x0E,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0F,0x0F,2,0},{0x0F,0x16,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x10,0x10,2,0},{0x10,0x18,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x11,0x11,2,0},{0x11,0x08,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x12,0x12,2,0},{0x12,0x92,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x13,0x13,2,0},{0x13,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x14,0x14,2,0},{0x14,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x15,0x15,2,0},{0x15,0x05,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x16,0x16,2,0},{0x16,0x40,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x17,0x17,2,0},{0x17,0x03,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x18,0x18,2,0},{0x18,0x16,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x19,0x19,2,0},{0x19,0xD7,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1A,0x1A,2,0},{0x1A,0x01,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1B,0x1B,2,0},{0x1B,0xDC,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1C,0x1C,2,0},{0x1C,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1D,0x1D,2,0},{0x1D,0x04,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1E,0x1E,2,0},{0x1E,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1F,0x1F,2,0},{0x1F,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x20,0x20,2,0},{0x20,0x03,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x21,0x21,2,0},{0x21,0x16,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x22,0x22,2,0},{0x22,0x18,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x23,0x23,2,0},{0x23,0x08,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x24,0x24,2,0},{0x24,0xDC,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x25,0x25,2,0},{0x25,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x26,0x26,2,0},{0x26,0x04,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x27,0x27,2,0},{0x27,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x28,0x28,2,0},{0x28,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x29,0x29,2,0},{0x29,0x01,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2A,0x2A,2,0},{0x2A,0x16,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2B,0x2B,2,0},{0x2B,0x18,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2D,0x2D,2,0},{0x2D,0x08,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4C,0x4C,2,0},{0x4C,0x99,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4D,0x4D,2,0},{0x4D,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4E,0x4E,2,0},{0x4E,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4F,0x4F,2,0},{0x4F,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x50,0x50,2,0},{0x50,0x01,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x51,0x51,2,0},{0x51,0x0A,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x52,0x52,2,0},{0x52,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5A,0x5A,2,0},{0x5A,0xE4,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5E,0x5E,2,0},{0x5E,0x77,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5F,0x5F,2,0},{0x5F,0x77,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x60,0x60,2,0},{0x60,0x34,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x61,0x61,2,0},{0x61,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x62,0x62,2,0},{0x62,0x81,2,0},
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x07,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x07,0x07,2,0},{0x07,0x4F,2,0},
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x01,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x05,0x05,2,0},{0x05,0x15,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0E,0x0E,2,0},{0x0E,0x8B,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x0F,0x0F,2,0},{0x0F,0x8B,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x10,0x10,2,0},{0x10,0x11,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x11,0x11,2,0},{0x11,0xA2,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x12,0x12,2,0},{0x12,0x80,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x14,0x14,2,0},{0x14,0x81,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x15,0x15,2,0},{0x15,0x82,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x17,0x17,2,0},{0x17,0xCC,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x18,0x18,2,0},{0x18,0x47,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x19,0x19,2,0},{0x19,0x36,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1A,0x1A,2,0},{0x1A,0x10,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1C,0x1C,2,0},{0x1C,0x57,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x1D,0x1D,2,0},{0x1D,0x02,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x21,0x21,2,0},{0x21,0xF8,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x22,0x22,2,0},{0x22,0x90,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x23,0x23,2,0},{0x23,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x25,0x25,2,0},{0x25,0x03,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x26,0x26,2,0},{0x26,0x4A,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2A,0x2A,2,0},{0x2A,0x47,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2B,0x2B,2,0},{0x2B,0xFF,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2D,0x2D,2,0},{0x2D,0xFF,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x2F,0x2F,2,0},{0x2F,0xAE,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x37,0x37,2,0},{0x37,0x0C,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x3A,0x3A,2,0},{0x3A,0x00,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x3B,0x3B,2,0},{0x3B,0x20,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x3D,0x3D,2,0},{0x3D,0x0B,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x3F,0x3F,2,0},{0x3F,0x38,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x40,0x40,2,0},{0x40,0x0B,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x41,0x41,2,0},{0x41,0x0B,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x42,0x42,2,0},{0x42,0x33,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x43,0x43,2,0},{0x43,0x66,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x44,0x44,2,0},{0x44,0x11,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x45,0x45,2,0},{0x45,0x44,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x46,0x46,2,0},{0x46,0x22,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x47,0x47,2,0},{0x47,0x55,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4C,0x4C,2,0},{0x4C,0x33,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4D,0x4D,2,0},{0x4D,0x66,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4E,0x4E,2,0},{0x4E,0x11,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x4F,0x4F,2,0},{0x4F,0x44,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x50,0x50,2,0},{0x50,0x22,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x51,0x51,2,0},{0x51,0x55,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x56,0x56,2,0},{0x56,0x11,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x58,0x58,2,0},{0x58,0x44,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x59,0x59,2,0},{0x59,0x22,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5A,0x5A,2,0},{0x5A,0x55,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5B,0x5B,2,0},{0x5B,0x33,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x5C,0x5C,2,0},{0x5C,0x66,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x61,0x61,2,0},{0x61,0x11,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x62,0x62,2,0},{0x62,0x44,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x63,0x63,2,0},{0x63,0x22,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x64,0x64,2,0},{0x64,0x55,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x65,0x65,2,0},{0x65,0x33,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x66,0x66,2,0},{0x66,0x66,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x6D,0x6D,2,0},{0x6D,0x90,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x6E,0x6E,2,0},{0x6E,0x40,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x70,0x70,2,0},{0x70,0xA5,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x72,0x72,2,0},{0x72,0x04,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x73,0x73,2,0},{0x73,0x15,2,0},
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x0A,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x29,0x29,2,0},{0x29,0x10,2,0},
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x05,2,0},
	{0xbf, 0xbf, 1, 0},
	{0x05,0x05,2,0},{0x05,0x19,2,0},
	{0xbf, 0xbf, 1, 0},
	{0xFE,0xFE,2,0},{0xFE,0x00,2,0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x50, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xbc, 0xbd, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbd, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x01, 2, 0},
	{0xbc, 0x00, 2, 10},

	{0x35, 0x35, 1, 0},
	{0x35, 0x00, 2, 0},

	{0x36, 0x36, 1, 0},
	{0x36, 0x08, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},
/*
	{0x11, 0x11, 1, 120000},
	{0x29, 0x29, 1, 0},
*/

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x53, 2, 0},

	{0xbd, 0xbd, 1, 0},
	{0xbd, 0x07, 2, 0},
	{0xbd, 0x00, 2, 0},

	{0xbe, 0xbe, 1, 0},
	{0xbe, 0xc0, 2, 0},
	{0xbe, 0x03, 2, 0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x43, 2, 0},
	{0xb7, 0x01, 2, 0},

};

static struct mipi_lcd_data_table SSD2805C_ILI9488_data_table[] = {
	/* soft reset */

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x42, 2, 0},
	{0xb7, 0x01, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x0f, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xe0, 0xe0, 1, 0},		//P-Gamma 
	{0xe0, 0x00, 2, 0},
	{0xe0, 0x03, 2, 0},
	{0xe0, 0x0c, 2, 0},
	{0xe0, 0x09, 2, 0},
	{0xe0, 0x17, 2, 0},
	{0xe0, 0x09, 2, 0},
	{0xe0, 0x3e, 2, 0},
	{0xe0, 0x89, 2, 0},
	{0xe0, 0x49, 2, 0},
	{0xe0, 0x08, 2, 0},
	{0xe0, 0x0d, 2, 0},
	{0xe0, 0x0a, 2, 0},
	{0xe0, 0x13, 2, 0},
	{0xe0, 0x15, 2, 0},
	{0xe0, 0x0f, 2, 0},

	{0xe1, 0xe1, 1, 0},		//N-Gamma
	{0xe1, 0x00, 2, 0},
	{0xe1, 0x11, 2, 0},
	{0xe1, 0x15, 2, 0},
	{0xe1, 0x03, 2, 0},
	{0xe1, 0x0f, 2, 0},
	{0xe1, 0x05, 2, 0},
	{0xe1, 0x2d, 2, 0},
	{0xe1, 0x34, 2, 0},
	{0xe1, 0x41, 2, 0},
	{0xe1, 0x02, 2, 0},
	{0xe1, 0x0b, 2, 0},
	{0xe1, 0x0a, 2, 0},
	{0xe1, 0x33, 2, 0},
	{0xe1, 0x37, 2, 0},
	{0xe1, 0x0f, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x02, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xc0, 0xc0, 1, 0}, 	//Power Control 1
	{0xc0, 0x17, 2, 0},		//Vreg1out
	{0xc0, 0x15, 2, 0},		//Verg2out

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x01, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xc1, 0xc1, 1, 0}, 	//Power Control 12
	{0xc1, 0x41, 2, 0}, 	//VGH,VGL

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x03, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xc5, 0xc5, 1, 0},	//Power Control 3
	{0xc5, 0x00, 2, 0},
	{0xc5, 0x12, 2, 0},
	{0xc5, 0x80, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x01, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0x36, 0x36, 1, 0},
	{0x36, 0x40, 2, 0},

	{0x3a, 0x3a, 1, 0},
	{0x3a, 0x77, 2, 0},

	{0xe9, 0xe9, 1, 0},
	{0xe9, 0x01, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0x21, 0x21, 1, 0},
	{0x11, 0x11, 1, 120000},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x04, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0x2a, 0x2a, 1, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x00, 2, 0},
	{0x2a, 0x01, 2, 0},
	{0x2a, 0x3f, 2, 0},

	{0x2b, 0x2b, 1, 0},
	{0x2b, 0x00, 2, 0},
	{0x2b, 0x00, 2, 0},
	{0x2b, 0x01, 2, 0},
	{0x2b, 0x3f, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0xb0, 2, 0},

	{0xbd, 0xbd, 1, 0},
	{0xbd, 0x00, 2, 0},
	{0xbd, 0x04, 2, 0},

	{0xbe, 0xbe, 1, 0},
	{0xbe, 0xc0, 2, 0},
	{0xbe, 0x03, 2, 0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x43, 2, 0},
	{0xb7, 0x01, 2, 0},

	{0x2c, 0x2c, 1, 0},
};

int ssd2805_write_cmd(unsigned char cmd)
{
	return I80_WriteCmd(cmd);
}

int ssd2805_write_data(unsigned char data)
{
	return I80_WriteData(data);
}

int ssd2805_read_data(unsigned char *data, int num)
{

	return I80_ReadPattern(data, num);
}

int ssd2805_read_id(void)
{
	unsigned char times = 100;
	unsigned char id[2] = {0, 0};
	do {
		ssd2805_write_cmd(0xb0);
		ssd2805_read_data(id, 2);
	
		if ((id[1] == 0x28) && (id[0] == 0x05)) {
			break;
		}
		else {
			udelay(20000);
		}
	} while (--times);

#ifdef SSD2805_ILI9488_DEBUG
	printf("%s(): [%02x%02x], timesout:%d\n", __func__,     id[1], id[0], times);
#endif
	return 0;
}

int read_lcd_register(u8 cmd, int num, unsigned char *data)
{
	unsigned char state;
	unsigned char times1 = 100;
	unsigned char times2 = 100;

	do{
		ssd2805_write_cmd(0xb7);
		ssd2805_write_data(0x92);
		ssd2805_write_data(0x02);
		ssd2805_write_cmd(0xc1);
		ssd2805_write_data(num);
		ssd2805_write_data(0x00);
		ssd2805_write_cmd(0xbc);
		ssd2805_write_data(0x01);
		ssd2805_write_data(0x00);
		ssd2805_write_cmd(0xbd);
		ssd2805_write_data(0x00);
		ssd2805_write_data(0x00);

		ssd2805_write_cmd(0xbf);
		ssd2805_write_data(cmd);

		ssd2805_write_cmd(0xc6);
		ssd2805_read_data(&state,  1);
		times1 -= 1;
	}while((!(state & 0x01)) && (times1));

	state = 0;

	do {
		if(num == 1){
			ssd2805_write_cmd(0xd7);
			ssd2805_read_data(data, num);
			if((*data) == 0x69) {
				break;
			}
#ifdef SSD2805_ILI9488_DEBUG
			printf("the lcd id is : %2x\n",*data);
#endif
		}
		if(num == 4){
			ssd2805_write_cmd(0xd7);
			ssd2805_read_data(data, 1);
			if((*(data+2) == 0x77) && (*(data+3) == 0x96)) {
				break;;
			}
#ifdef SSD2805_ILI9488_DEBUG
			printf("the lcd id is : %2x\n",*data);
#endif
		}
		else {
			udelay(10000);
		}
	} while (--times2);

	return 0;
}

int read_lcd_id(void)
{
	unsigned char check_id2[4] = {0, 0, 0, 0};

#ifndef PRODUCT_CLOUDER_M93
	unsigned char check_id1 = 0;
	/***********read lcd id************/
	read_lcd_register(0xE1, 1, &check_id1);
	if (check_id1 == 0x69) {
#ifdef SSD2805_ILI9488_DEBUG
		printf("the lcd driver IC is RM67160.\n");
#endif
		lcd_id_state = RM67160_ID;
		return 0;
	}

	read_lcd_register(0xD3, 4, check_id2);
#endif
	check_id2[2] = 0x77;
	check_id2[3] = 0x96;

	if((check_id2[2] == 0x77) && (check_id2[3] == 0x96)) {
#ifdef SSD2805_ILI9488_DEBUG
		printf("the lcd driver IC is ST7796S.\n");
#endif
		lcd_id_state = ST7796S_ID;
		return 0;
	}
	else {
#ifdef SSD2805_ILI9488_DEBUG
		printf("the lcd driver IC is ILI9488.\n");
#endif
		lcd_id_state = ILI9488_ID;
		return 0;
	}
}
EXPORT_SYMBOL(read_lcd_id);

int SSD2805C_ILI9488_test(int R, int G, int B)
{
	return 0;
}

int i80_lcd_test(int r, int g, int b)
{
	return  SSD2805C_ILI9488_test(r, g, b);
}
EXPORT_SYMBOL(i80_lcd_test);

int init_ILI9488_register(void)
{
	int i = 0;
//	int j=0;
//	unsigned char c[3] = {0xff, 0, 0};

	for (i = 0; i < ARRAY_SIZE(SSD2805C_ILI9488_data_table); i++) {
		if (SSD2805C_ILI9488_data_table[i].type == 1) {
			ssd2805_write_cmd(SSD2805C_ILI9488_data_table[i].value);
		}
		else if (SSD2805C_ILI9488_data_table[i].type == 2) {
			ssd2805_write_data(SSD2805C_ILI9488_data_table[i].value);
		}
		if (SSD2805C_ILI9488_data_table[i].udelay) {
			udelay(SSD2805C_ILI9488_data_table[i].udelay);
		}
	}

	//printk("%s:begin to write image Data.\n", __func__);
	//for (i = 0; i < ILI9488_COL_PXL; i++) {
	//	for (j = 0; j < ILI9488_ROW_PXL; j++) {
	//		ssd2805_write_data(c[0]);
	//		ssd2805_write_data(c[1]);
	//		ssd2805_write_data(c[2]);
	//	}
	//}
	//
	//ssd2805_write_cmd(0xb7);
	//ssd2805_write_data(0x50);
	//ssd2805_write_data(0x02);
	//
	//ssd2805_write_cmd(0xbc);
	//ssd2805_write_data(0x00);
	//ssd2805_write_data(0x00);
	//
	//ssd2805_write_cmd(0xbd);
	//ssd2805_write_data(0x00);
	//ssd2805_write_data(0x00);
	//
	//ssd2805_write_cmd(0x29);
	//
	//ssd2805_write_cmd(0xbc);
	//ssd2805_write_data(0x00);
	//ssd2805_write_data(0xb0);
	//
	//ssd2805_write_cmd(0xbd);
	//ssd2805_write_data(0x04);
	//ssd2805_write_data(0x00);
	//
	//ssd2805_write_cmd(0xbe);
	//ssd2805_write_data(0xc0);
	//ssd2805_write_data(0x03);
	//
	//ssd2805_write_cmd(0xb7);
	//ssd2805_write_data(0x43);
	//ssd2805_write_data(0x10);
	//
	//ssd2805_write_cmd(0x2c);
	//
	return 0;
}
EXPORT_SYMBOL(init_ILI9488_register);

int init_RM67160_register(void)
{

	int i = 0;

	for (i = 0; i < ARRAY_SIZE(SSD2805C_RM67160_data_table); i++) {
		if (SSD2805C_RM67160_data_table[i].type == 1) {
			ssd2805_write_cmd(SSD2805C_RM67160_data_table[i].value);
		}
		else if (SSD2805C_RM67160_data_table[i].type == 2) {
			ssd2805_write_data(SSD2805C_RM67160_data_table[i].value);
		}
		if (SSD2805C_RM67160_data_table[i].udelay) {
			udelay(SSD2805C_RM67160_data_table[i].udelay);
		}
	}
	lcd_exit_sleep();

#ifdef SSD2805_ILI9488_DEBUG
	printf("%s: Init SSD2805C RM67160 OK.\n", __func__);
#endif

	return 0;
}
EXPORT_SYMBOL(init_RM67160_register);

int init_ST7796S_register(void)
{
	int i = 0;

	for (i = 0; i < ARRAY_SIZE(SSD2805C_ST7796S_data_table); i++) {
		if (SSD2805C_ST7796S_data_table[i].type == 1) {
			ssd2805_write_cmd(SSD2805C_ST7796S_data_table[i].value);
		}
		else if (SSD2805C_ST7796S_data_table[i].type == 2) {
			ssd2805_write_data(SSD2805C_ST7796S_data_table[i].value);
		}
		if (SSD2805C_ST7796S_data_table[i].udelay) {
			udelay(SSD2805C_ST7796S_data_table[i].udelay);
		}
	}
	lcd_exit_sleep();


	return 0;
}
EXPORT_SYMBOL(init_ST7796S_register);

#ifdef  PRODUCT_CLOUDER_M93
static struct mipi_lcd_data_table RM67160_enter_sleep[] = {

	{0x28, 0x28, 1, 0},
	{0x10, 0x10, 1, 0},
};
#else
static struct mipi_lcd_data_table RM67160_enter_sleep[] = {

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x50, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xbc, 0xbd, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbe, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 10},

	{0x28, 0x28, 1, 0},
	{0x10, 0x10, 1, 0},
};
#endif

#ifdef  PRODUCT_CLOUDER_M93
static struct mipi_lcd_data_table RM67160_exit_sleep[] = {

	{0x11, 0x11, 1, 120000},
	{0x29, 0x29, 1, 0},
	{0x2c, 0x2c, 1, 0},
};
#else
static struct mipi_lcd_data_table RM67160_exit_sleep[] = {

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x50, 2, 0},
	{0xb7, 0x02, 2, 0},

	{0xbc, 0xbd, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbe, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x00, 2, 10},

	{0x11, 0x11, 1, 120000},
	{0x29, 0x29, 1, 0},

	{0xbc, 0xbc, 1, 0},
	{0xbc, 0x00, 2, 0},
	{0xbc, 0x53, 2, 0},

	{0xbd, 0xbd, 1, 0},
	{0xbd, 0x07, 2, 0},
	{0xbd, 0x00, 2, 0},

	{0xbe, 0xbe, 1, 0},
	{0xbe, 0xc0, 2, 0},
	{0xbe, 0x03, 2, 0},

	{0xb7, 0xb7, 1, 0},
	{0xb7, 0x43, 2, 0},
	{0xb7, 0x01, 2, 0},

};
#endif

int lcd_enter_sleep(void)
{
	int i;

	for (i = 0; i < ARRAY_SIZE(RM67160_enter_sleep); i++) {
		if (RM67160_enter_sleep[i].type == 1) {
			ssd2805_write_cmd(RM67160_enter_sleep[i].value);
		}
		else if (RM67160_enter_sleep[i].type == 2) {
			ssd2805_write_data(RM67160_enter_sleep[i].value);
		}
		if (RM67160_enter_sleep[i].udelay) {
			udelay(RM67160_enter_sleep[i].udelay);
		}
	}

	return 0;
}
EXPORT_SYMBOL(lcd_enter_sleep);

int lcd_exit_sleep(void)
{
	int i;

	for (i = 0; i < ARRAY_SIZE(RM67160_exit_sleep); i++) {
		if (RM67160_exit_sleep[i].type == 1) {
			ssd2805_write_cmd(RM67160_exit_sleep[i].value);
		}
		else if (RM67160_exit_sleep[i].type == 2) {
			ssd2805_write_data(RM67160_exit_sleep[i].value);
		}
		if (RM67160_exit_sleep[i].udelay) {
			udelay(RM67160_exit_sleep[i].udelay);
		}
	}

	return 0;

}
EXPORT_SYMBOL(lcd_exit_sleep);

void init_lcd_driver(void)
{

	int i;

	if (lcd_id_state == RM67160_ID)
	{
		for (i = 0; i < ARRAY_SIZE(SSD2805C_RM67160_data_table); i++) {
			if (SSD2805C_RM67160_data_table[i].type == 1) {
				ssd2805_write_cmd(SSD2805C_RM67160_data_table[i].value);
			}
			else if (SSD2805C_RM67160_data_table[i].type == 2) {
				ssd2805_write_data(SSD2805C_RM67160_data_table[i].value);
			}
			if (SSD2805C_RM67160_data_table[i].udelay) {
				udelay(SSD2805C_RM67160_data_table[i].udelay);
			}
		}
	}

	if (lcd_id_state == ST7796S_ID)
	{

		for (i = 0; i < ARRAY_SIZE(SSD2805C_ST7796S_data_table); i++) {
			if (SSD2805C_ST7796S_data_table[i].type == 1) {
				ssd2805_write_cmd(SSD2805C_ST7796S_data_table[i].value);
			}
			else if (SSD2805C_ST7796S_data_table[i].type == 2) {
				ssd2805_write_data(SSD2805C_ST7796S_data_table[i].value);
			}
			if (SSD2805C_ST7796S_data_table[i].udelay) {
				udelay(SSD2805C_ST7796S_data_table[i].udelay);
			}
		}
	}

}
EXPORT_SYMBOL(init_lcd_driver);

int SSD2805C_init(void)
{

#if  defined(PRODUCT_CLOUDER_MINI2)||defined(PRODUCT_CLOUDER_GC100)
	gpio_set_value(SSD2805C_RESET, 1);
	udelay(1000);
	gpio_set_value(SSD2805C_RESET, 0);
	udelay(1000);
	gpio_set_value(SSD2805C_RESET, 1);
#endif

#if  defined(PRODUCT_CLOUDER_MINI2)||defined(PRODUCT_CLOUDER_M93)||defined(PRODUCT_CLOUDER_GC100)
	gpio_set_value(LCD_RESET, 1);
	udelay(1000);
	gpio_set_value(LCD_RESET, 0);
	udelay(1000);
	gpio_set_value(LCD_RESET, 1);
	udelay(120000);
#endif

#ifdef SSD2805_ILI9488_DEBUG
	ssd2805_read_id();
#endif
#ifndef PRODUCT_CLOUDER_M93
	int i = 0;

	for (i = 0; i < ARRAY_SIZE(SSD2805C_init_table); i++) {
		if (SSD2805C_init_table[i].type == 1) {
			ssd2805_write_cmd(SSD2805C_init_table[i].value);
		}
		else if (SSD2805C_init_table[i].type == 2) {
			ssd2805_write_data(SSD2805C_init_table[i].value);
		}
		if (SSD2805C_init_table[i].udelay) {
			udelay(SSD2805C_init_table[i].udelay);
		}
	}
#endif

	return 0;
}
EXPORT_SYMBOL(SSD2805C_init);

struct i80_timing_info *i80_timing_info(void)
{
	if (lcd_id_state == RM67160_ID)
		return &SSD2805C_RM67160_timing_info;
	if (lcd_id_state == ST7796S_ID)
		return &SSD2805C_ST7796S_timing_info;
	if (lcd_id_state == ILI9488_ID)
		return &SSD2805C_ILI9488_timing_info;

	return &SSD2805C_ST7796S_timing_info;
}
EXPORT_SYMBOL(i80_timing_info);

struct i80_ctrl_info *i80_ctrl_info(void)
{
    return &SSD2805C_RM67160_ctrl_info;
}
EXPORT_SYMBOL(i80_ctrl_info);

